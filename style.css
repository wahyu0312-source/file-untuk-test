:root{
  --bg:#f7f9fc; --card:#ffffff; --border:#e0e6f1; --ink:#1f2937; --muted:#6b7a99;
  --primary:#2563eb; --primary-hover:#1d4ed8; --chip:#eff6ff;
  --green:#10b981; --blue:#3b82f6; --violet:#7c3aed; --orange:#fb923c; --red:#ef4444;
  --radius:14px; --shadow:0 2px 6px rgba(0,0,0,0.06);
  --fs-base: clamp(12px, 0.95vw, 16px);
  --fs-s: clamp(10px, 0.8vw, 13px);
  --kpi-num: clamp(24px, 2.6vw, 42px);
  --container: min(96vw, 1600px);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:var(--fs-base)/1.5 ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial}
.hidden{display:none!important} .muted{color:var(--muted)} .s{font-size:var(--fs-s)}
.row{display:flex;align-items:center} .row-between{display:flex;align-items:center;justify-content:space-between}
.row-end{display:flex;justify-content:flex-end;gap:.5rem} .row.gap{gap:.5rem} .wrap{flex-wrap:wrap} .grow{flex:1}

/* Nav */
.nav{
  position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center;
  padding:.6rem .9rem;border-bottom:1px solid var(--border);background:#fff;box-shadow:var(--shadow)
}
.logo{height:28px} .brand{margin-left:.5rem;font-weight:700;font-size:clamp(14px,1.1vw,18px)}
.nav-right{display:flex;gap:.35rem;align-items:center;flex-wrap:wrap}

/* Buttons */
.btn{padding:.55rem .9rem;border-radius:12px;border:1px solid transparent;background:var(--primary);color:#fff;cursor:pointer;display:inline-flex;align-items:center;gap:.4rem;font-size:13px}
.btn:hover{background:var(--primary-hover)}
.btn.ghost{background:#fff;border:1px solid var(--border);color:var(--ink)}
.btn.ghost:hover{background:#f3f6fb}
.btn.primary{background:var(--primary)}
.btn.danger{background:var(--red)}
.btn.nav{border:0;color:#fff}
.btn.nav.primary{background:var(--primary)}
.btn.nav.sales{background:#0ea5e9}
.btn.nav.plan{background:#22c55e}
.btn.nav.ship{background:#f97316}
.btn.nav.inventory{background:#14b8a6}
.btn.nav.finished{background:#6366f1}
.btn.nav.invoice{background:#0891b2}
.btn.nav.charts{background:#7c3aed}
.btn.nav.qr{background:#64748b}
.btn.full{width:100%} .btn.s{padding:.35rem .55rem;font-size:11px;border-radius:10px}

/* Colored icon helpers */
.text-green{color:var(--green)} .text-blue{color:var(--blue)} .text-violet{color:var(--violet)}

/* Inputs */
input, select, textarea{width:100%;padding:.75rem;border-radius:12px;border:1px solid var(--border);background:#fff;color:#000}
.input{width:220px;max-width:48vw}

/* Cards & Layout */
.container{padding:.9rem;width:var(--container);margin:0 auto}
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;margin-bottom:1rem;box-shadow:var(--shadow)}
.card-tight{max-width:520px;margin:2rem auto}
.title{letter-spacing:.3px}

/* KPI */
.kpi-grid{display:grid;gap:1rem;grid-template-columns: repeat(3, minmax(0,1fr))}
.kpi{background:#fff;border:1px solid var(--border);border-radius:14px;padding:1rem;box-shadow:var(--shadow);display:flex;flex-direction:column;min-height:140px}
.kpi-head{display:flex;align-items:center;gap:.5rem;color:var(--muted)}
.kpi-num{font-weight:800;font-size:var(--kpi-num);letter-spacing:0.5px}

/* Tables */
.table-wrap{overflow:auto;max-height:60vh;border:1px solid var(--border);border-radius:12px;background:#fff}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:.6rem;border-bottom:1px solid #edf1f7;vertical-align:middle}

/* Skeleton */
.skeleton td{position:relative;height:40px}
.skeleton td::after{
  content:"";position:absolute;inset:8px;border-radius:10px;
  background:linear-gradient(90deg,#f1f5f9,#e5e9f2,#f1f5f9);
  animation:shimmer 1.1s linear infinite; background-size:200% 100%;
}
@keyframes shimmer{0%{background-position:0% 0}100%{background-position:200% 0}}

/* Chips & badges (status/process) */
.badge{display:inline-flex;align-items:center;gap:.35rem;padding:.18rem .5rem;border-radius:999px;border:1px solid var(--border);font-size:11px;line-height:1;background:#fff}
.badge .dot{width:8px;height:8px;border-radius:999px;display:inline-block}
.st-begin   {border-color:#c7d2fe;background:#eef2ff;color:#27396b}
.st-inspect {border-color:#bae6fd;background:#e0f2fe;color:#0b4666}
.st-hold    {border-color:#fde68a;background:#fffbeb;color:#7a4b00}
.st-ready   {border-color:#bbf7d0;background:#f0fdf4;color:#14532d}
.st-shipped {border-color:#cbd5e1;background:#f1f5f9;color:#334155}
.st-ng      {border-color:#fecaca;background:#fef2f2;color:#7f1d1d}

.prc-laser   {border-color:#c7d2fe;background:#eef2ff;color:#27396b}
.prc-bend    {border-color:#a5f3fc;background:#ecfeff;color:#0b4666}
.prc-frame   {border-color:#bbf7d0;background:#f0fdf4;color:#14532d}
.prc-shassy  {border-color:#fed7aa;background:#fff7ed;color:#7a4b00}
.prc-shweld  {border-color:#fecaca;background:#fef2f2;color:#7f1d1d}
.prc-caulk   {border-color:#e9d5ff;background:#faf5ff;color:#5b21b6}
.prc-tosou   {border-color:#ffd89a;background:#fff7e6;color:#7a4b00}
.prc-asm-in  {border-color:#99f6e4;background:#e6fffa;color:#115e59}
.prc-asm-ok  {border-color:#bae6fd;background:#e0f2fe;color:#0b4666}
.prc-out     {border-color:#e2e8f0;background:#f8fafc;color:#334155}
.prc-inspect {border-color:#bae6fd;background:#f0f9ff;color:#0b4666}

/* Sub-row di kolom kiri */
.row-main{display:flex;flex-direction:column;gap:.18rem}
.row-sub{display:flex;gap:.6rem;flex-wrap:wrap}
.row-sub .kv{display:inline-flex;gap:.25rem;align-items:center;font-size:12px;color:var(--muted)}
.row-sub .kv b{color:var(--ink);font-weight:600}

/* Actions 2 kolom */
.actions-2col{display:grid;grid-template-columns: repeat(2, minmax(78px, 1fr)); gap:.35rem}
@media(min-width:1080px){ .actions-2col{ grid-template-columns: repeat(2, 92px); } }
@media(max-width:520px) { .actions-2col{ grid-template-columns: repeat(2, 1fr); } }

/* Grid kecil */
.grid{display:grid;grid-template-columns:1fr 1fr;gap:.6rem}
.grid-3{display:grid;grid-template-columns:1fr;gap:1rem}
.grid-chips{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}

/* Dialog */
.paper{width:min(860px,96vw);border:0;padding:0;background:#fff;color:#000;border-radius:10px;box-shadow:var(--shadow)}
.paper .body{padding:16px} .paper table{width:100%;border-collapse:collapse}
.paper th,.paper td{border:1px solid #555;padding:4px 6px;font-size:12px}
video#scanVideo{width:100%;max-height:48vh;border-radius:12px;background:#000}

/* Footer branding */
.footer{margin-top:24px;padding:18px 0;border-top:1px solid var(--border);background:#fff}
.footer-inner{width:var(--container);margin:0 auto;text-align:center}
.signature{font-weight:700;letter-spacing:.6px;background:linear-gradient(90deg,#0ea5e9,#22c55e,#f59e0b,#6366f1);-webkit-background-clip:text;background-clip:text;color:transparent}

/* Large screens */
@media (min-width: 1800px){
  :root{ --container: min(94vw, 1800px); }
  .table th,.table td{padding:.8rem}
}

/* Tablet & Mobile */
@media (max-width: 980px){
  .grid{grid-template-columns:1fr}
  .grid-3{grid-template-columns:1fr}
  .grid-chips{grid-template-columns:repeat(2,1fr)}
}

/* Print */
@media print{
  @page{ size:A4 portrait; margin:12mm }
  nav, .nav, .btn, .input, .row-between > .row, .loading, .footer{ display:none !important; }
  body{ background:#fff }
}
